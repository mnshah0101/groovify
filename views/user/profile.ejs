<% layout('./layouts/boilerplate') %>
    <div id="profile-profile" class="col-12 d-flex flex-column justify-content-center align-items-center mb-5 mt-4">
        <div class="user-image">
            <img src="/mycollection/png/001-bear.png" style=" height: 250px;" alt="Bear Image" id="profile_picture">
        </div>
        <div class="welcome-message mt-4">
            <h1>Welcome, admin
            </h1>
        </div>


    </div>




    <form action="/user/<%=id%>/profilepicture" method="POST">
        <div id="profile_pics" class="container">
            <div class="row">
                <% for (let i=0;i<pngFiles.length;i++) { %>
                    <div class="col-4 col-md-2 d-flex justify-content-center align-items-center">
                        <div class="card profile-card col-12">
                            <div
                                class="card-body d-flex flex-column justify-content-center align-items-center profile-div">
                                <img src="/mycollection/png/<%=pngFiles[i]%>" style="width:100%" alt="">


                                <div class="form-check d-flex flex-column justify-content-center align-items-center">

                                    <%if(i==0){%>
                                        <input class="form-check-input" type="radio" name="profilePic"
                                            id="profilePic<%= i %>" value="<%=pngFiles[i]%>" checked>
                                        <%}else{%>
                                            <input class="form-check-input" type="radio" name="profilePic"
                                                id="profilePic<%= i %>" value="<%=pngFiles[i]%>">
                                            <% } %>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% } %>

            </div>
            <div class="col-12 d-flex justify-content-center mt-5">
                <button class="btn btn-primary">Set Profile Picture</button>

            </div>


        </div>
        <input name="userId" type="hidden" value="<%=id%>">
    </form>

    <script>
        var radios = document.querySelectorAll('input[type=radio][name="profilePic"]');
        var image = document.getElementById('profile_picture');

        function changeHandler(event) {
            image.src = "/mycollection/png/" + event.target.value;
        }

        Array.prototype.forEach.call(radios, function (radio) {
            radio.addEventListener('change', changeHandler);
        });

    </script>